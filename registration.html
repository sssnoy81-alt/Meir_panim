<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×¨×™×©×•× ×œ××©×¤×—×•×ª - ×‘×™×ª ×ª××—×•×™ ×××™×¨ ×¤× ×™×</title>
    <style>
        .language-switcher {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .lang-btn {
            padding: 8px 15px;
            background: white;
            border: 2px solid #8B1538;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: #8B1538;
            transition: all 0.3s;
        }

        .lang-btn:hover {
            background: #8B1538;
            color: white;
        }

        .lang-btn.active {
            background: #8B1538;
            color: white;
        }
    </style>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #8B1538 0%, #E4032E 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #8B1538 0%, #E4032E 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .form-section {
            padding: 30px;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 15px;
        }

        input[type="text"],
        input[type="tel"],
        input[type="number"],
        select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #8B1538;
        }

        .required {
            color: #e74c3c;
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #8B1538 0%, #E4032E 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(139, 21, 56, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .info-box {
            background: #fff5f7;
            border-right: 4px solid #8B1538;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
        }

        .info-box p {
            color: #555;
            line-height: 1.6;
        }

        .success-message {
            display: none;
            background: #d4edda;
            border: 2px solid #28a745;
            color: #155724;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
        }

        .success-message.show {
            display: block;
        }

        .barcode-container {
            margin-top: 20px;
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
        }

        #qrcode {
            margin: 20px auto;
        }

        .print-btn {
            margin-top: 15px;
            padding: 10px 20px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }

        .print-btn:hover {
            background: #218838;
        }
    </style>
</head>
<body>
    <div class="language-switcher">
        <button class="lang-btn active" onclick="changeLanguage('he')" data-lang="he">×¢×‘×¨×™×ª</button>
        <button class="lang-btn" onclick="changeLanguage('en')" data-lang="en">English</button>
        <button class="lang-btn" onclick="changeLanguage('ru')" data-lang="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
    </div>
    
    <div class="container">
        <div class="header">
            <div style="display: flex; align-items: center; justify-content: center; gap: 20px; flex-wrap: wrap;">
                <svg width="80" height="80" viewBox="0 0 200 200" style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));">
                    <!-- House/Home icon with people -->
                    <circle cx="100" cy="100" r="95" fill="white"/>
                    <!-- Roof -->
                    <path d="M 60 100 L 100 60 L 140 100" stroke="white" stroke-width="0" fill="none"/>
                    <path d="M 55 105 L 100 55 L 145 105 L 145 95 L 100 45 L 55 95 Z" fill="#8B1538"/>
                    <!-- House body -->
                    <rect x="65" y="100" width="70" height="60" fill="#8B1538"/>
                    <!-- People figures -->
                    <g transform="translate(75, 115)">
                        <!-- Left person -->
                        <circle cx="10" cy="8" r="6" fill="white"/>
                        <path d="M 4 18 Q 4 14, 10 14 Q 16 14, 16 18 L 16 30 L 4 30 Z" fill="white"/>
                    </g>
                    <g transform="translate(105, 115)">
                        <!-- Right person -->
                        <circle cx="10" cy="8" r="6" fill="white"/>
                        <path d="M 4 18 Q 4 14, 10 14 Q 16 14, 16 18 L 16 30 L 4 30 Z" fill="white"/>
                    </g>
                    <!-- Door -->
                    <rect x="90" y="135" width="20" height="25" fill="white" rx="2"/>
                    <!-- Base text -->
                    <text x="100" y="180" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">×××™×¨ ×¤× ×™×</text>
                    <text x="100" y="195" font-family="Arial" font-size="10" fill="white" text-anchor="middle">××—×œ×§×™× ×œ×—×™×™× ×ª×§×•×•×” ×•××”×‘×”</text>
                </svg>
                <div style="text-align: center;">
                    <h1>×‘×™×ª ×ª××—×•×™ ×××™×¨ ×¤× ×™×</h1>
                    <p style="font-size: 14px; margin-top: 5px; opacity: 0.95;">××—×œ×§×™× ×œ×—×™×™× ×ª×§×•×•×” ×•××”×‘×”</p>
                    <p>×¨×™×©×•× ×œ×§×‘×œ×ª ×—×‘×™×œ×ª ××–×•×Ÿ ×œ×¤×¡×— ×ª×©×¤"×”</p>
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="info-box">
                <p><strong>×‘×¨×•×›×™× ×”×‘××™× ×œ×××™×¨ ×¤× ×™×!</strong><br>
                ×× ×—× ×• ×›××Ÿ ×‘×©×‘×™×œ×›×. ×× × ××œ××• ××ª ×”×¤×¨×˜×™× ×”×‘××™× ×œ×¦×•×¨×š ×¨×™×©×•× ×œ××©×¤×—×ª×›× ×œ×§×‘×œ×ª ×—×‘×™×œ×ª ××–×•×Ÿ ×œ×—×’ ×”×¤×¡×—. ×œ××—×¨ ×”×©×œ××ª ×”×¨×™×©×•× ×ª×§×‘×œ×• ×‘×¨×§×•×“ ××™×©×™ ×©×™××¤×©×¨ ×œ×›× ×œ××¡×•×£ ××ª ×”×—×‘×™×œ×” ×‘×§×œ×•×ª ×•×‘××”×™×¨×•×ª.</p>
            </div>

            <form id="registrationForm">
                <div class="form-group">
                    <label>×©× ××œ× <span class="required">*</span></label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>

                <div class="form-group">
                    <label>××¡×¤×¨ ×ª×¢×•×“×ª ×–×”×•×ª <span class="required">*</span></label>
                    <input type="text" id="idNumber" name="idNumber" pattern="[0-9]{9}" maxlength="9" required>
                </div>

                <div class="form-group">
                    <label>××¡×¤×¨ ×˜×œ×¤×•×Ÿ</label>
                    <input type="tel" id="phone" name="phone" pattern="[0-9]{9,10}" placeholder="050-1234567">
                </div>

                <div class="form-group">
                    <label>×¢×™×¨ <span class="required">*</span></label>
                    <input type="text" id="city" name="city" required>
                </div>

                <div class="form-group">
                    <label>××¡×¤×¨ × ×¤×©×•×ª ×‘××©×¤×—×” <span class="required">*</span></label>
                    <select id="familySize" name="familySize" required>
                        <option value="">×‘×—×¨ ××¡×¤×¨ × ×¤×©×•×ª</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10+">10+</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>×”×¢×¨×•×ª (××•×¤×¦×™×•× ×œ×™)</label>
                    <input type="text" id="notes" name="notes" placeholder="×œ××©×œ: ×¦×¨×›×™× ××™×•×—×“×™×, ××œ×¨×’×™×•×ª">
                </div>

                <button type="submit" class="submit-btn">×©×œ×— ×¨×™×©×•×</button>
            </form>

            <div id="successMessage" class="success-message">
                <h2>âœ… × ×¨×©××ª ×‘×”×¦×œ×—×” ×œ×××™×¨ ×¤× ×™×!</h2>
                <p style="font-size: 16px; margin: 10px 0;">×‘×¨×•×›×™× ×”×‘××™× ×œ××©×¤×—×ª ×××™×¨ ×¤× ×™×</p>
                <p>××¡×¤×¨ ×”×¨×™×©×•× ×©×œ×š: <strong id="registrationNumber"></strong></p>
                <div class="barcode-container">
                    <p><strong>×–×”×• ×”×‘×¨×§×•×“ ×”××™×©×™ ×©×œ×š:</strong></p>
                    <div id="qrcode"></div>
                    <p style="margin-top: 10px; color: #666;">ğŸ’¡ ×©××•×¨ ×ª××•× ×” ×©×œ ×”×‘×¨×§×•×“ ××• ×”×“×¤×¡ ××ª ×”×ª×œ×•×©</p>
                    <p style="color: #666;">×”×¦×’ ××ª ×”×‘×¨×§×•×“ ×‘×¢×ª ××™×¡×•×£ ×”×—×‘×™×œ×”</p>
                    <button class="print-btn" onclick="window.print()">ğŸ–¨ï¸ ×”×“×¤×¡ ×ª×œ×•×©</button>
                </div>
                <p style="margin-top: 20px; font-size: 14px; color: #666;">
                    × ×ª×¨××” ×‘×§×¨×•×‘! ×¦×•×•×ª ×××™×¨ ×¤× ×™× â¤ï¸
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        // Translation dictionary
        const translations = {
            he: {
                dir: 'rtl',
                title: '×‘×™×ª ×ª××—×•×™ ×××™×¨ ×¤× ×™×',
                subtitle: '×¨×™×©×•× ×œ×§×‘×œ×ª ×—×‘×™×œ×ª ××–×•×Ÿ ×œ×¤×¡×— ×ª×©×¤"×”',
                welcome: '×‘×¨×•×›×™× ×”×‘××™× ×œ×××™×¨ ×¤× ×™×!',
                welcomeText: '×× ×—× ×• ×›××Ÿ ×‘×©×‘×™×œ×›×. ×× × ××œ××• ××ª ×”×¤×¨×˜×™× ×”×‘××™× ×œ×¦×•×¨×š ×¨×™×©×•× ×œ××©×¤×—×ª×›× ×œ×§×‘×œ×ª ×—×‘×™×œ×ª ××–×•×Ÿ ×œ×—×’ ×”×¤×¡×—. ×œ××—×¨ ×”×©×œ××ª ×”×¨×™×©×•× ×ª×§×‘×œ×• ×‘×¨×§×•×“ ××™×©×™ ×©×™××¤×©×¨ ×œ×›× ×œ××¡×•×£ ××ª ×”×—×‘×™×œ×” ×‘×§×œ×•×ª ×•×‘××”×™×¨×•×ª.',
                fullName: '×©× ××œ×',
                idNumber: '××¡×¤×¨ ×ª×¢×•×“×ª ×–×”×•×ª',
                phone: '××¡×¤×¨ ×˜×œ×¤×•×Ÿ',
                address: '×›×ª×•×‘×ª ××’×•×¨×™×',
                city: '×¢×™×¨',
                familySize: '××¡×¤×¨ × ×¤×©×•×ª ×‘××©×¤×—×”',
                selectSize: '×‘×—×¨ ××¡×¤×¨ × ×¤×©×•×ª',
                notes: '×”×¢×¨×•×ª (××•×¤×¦×™×•× ×œ×™)',
                notesPlaceholder: '×œ××©×œ: ×¦×¨×›×™× ××™×•×—×“×™×, ××œ×¨×’×™×•×ª',
                submit: '×©×œ×— ×¨×™×©×•×',
                successTitle: '×”×¨×™×©×•× ×‘×•×¦×¢ ×‘×”×¦×œ×—×”!',
                registrationNumber: '××¡×¤×¨ ×”×¨×™×©×•× ×©×œ×š:',
                barcodeTitle: '×–×”×• ×”×‘×¨×§×•×“ ×”××™×©×™ ×©×œ×š:',
                barcodeInstruction: '×©××•×¨ ××ª ×”×‘×¨×§×•×“ ××• ×”×¦×’ ××•×ª×• ×‘×¢×ª ××™×¡×•×£ ×”×—×‘×™×œ×”',
                printBtn: 'ğŸ–¨ï¸ ×”×“×¤×¡ ×ª×œ×•×©',
                required: '*'
            },
            en: {
                dir: 'ltr',
                title: 'Meir Panim Food Bank',
                subtitle: 'Registration for Passover Food Package 2025',
                welcome: 'Welcome to Meir Panim!',
                welcomeText: 'We are here for you. Please fill in the following details to register your family for a Passover food package. After completing the registration, you will receive a personal barcode that will allow you to collect the package quickly and easily.',
                fullName: 'Full Name',
                idNumber: 'ID Number',
                phone: 'Phone Number',
                address: 'Home Address',
                city: 'City',
                familySize: 'Family Size',
                selectSize: 'Select number of people',
                notes: 'Notes (Optional)',
                notesPlaceholder: 'For example: Special needs, allergies',
                submit: 'Submit Registration',
                successTitle: 'Registration Successful!',
                registrationNumber: 'Your registration number:',
                barcodeTitle: 'This is your personal barcode:',
                barcodeInstruction: 'Save the barcode or show it when collecting the package',
                printBtn: 'ğŸ–¨ï¸ Print Receipt',
                required: '*'
            },
            ru: {
                dir: 'ltr',
                title: 'ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ±Ğ°Ğ½Ğº ĞœĞµĞ¸Ñ€ ĞŸĞ°Ğ½Ğ¸Ğ¼',
                subtitle: 'Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğº ĞŸĞµÑĞ°Ñ…Ñƒ 2025',
                welcome: 'Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² ĞœĞµĞ¸Ñ€ ĞŸĞ°Ğ½Ğ¸Ğ¼!',
                welcomeText: 'ĞœÑ‹ Ğ·Ğ´ĞµÑÑŒ Ğ´Ğ»Ñ Ğ²Ğ°Ñ. ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ²Ğ°ÑˆĞµĞ¹ ÑĞµĞ¼ÑŒĞ¸ Ğ½Ğ° Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ½Ğ°Ğ±Ğ¾Ñ€Ğ° Ğº ĞŸĞµÑĞ°Ñ…Ñƒ. ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ²Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑˆÑ‚Ñ€Ğ¸Ñ…-ĞºĞ¾Ğ´, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»Ğ¸Ñ‚ Ğ²Ğ°Ğ¼ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾ Ğ¸ Ğ»ĞµĞ³ĞºĞ¾ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ±Ğ¾Ñ€.',
                fullName: 'ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¸Ğ¼Ñ',
                idNumber: 'ĞĞ¾Ğ¼ĞµÑ€ ÑƒĞ´Ğ¾ÑÑ‚Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ¸Ñ Ğ»Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸',
                phone: 'ĞĞ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°',
                address: 'Ğ”Ğ¾Ğ¼Ğ°ÑˆĞ½Ğ¸Ğ¹ Ğ°Ğ´Ñ€ĞµÑ',
                city: 'Ğ“Ğ¾Ñ€Ğ¾Ğ´',
                familySize: 'Ğ Ğ°Ğ·Ğ¼ĞµÑ€ ÑĞµĞ¼ÑŒĞ¸',
                selectSize: 'Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº',
                notes: 'ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ (Ğ½ĞµĞ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)',
                notesPlaceholder: 'ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: Ğ¾ÑĞ¾Ğ±Ñ‹Ğµ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚Ğ¸, Ğ°Ğ»Ğ»ĞµÑ€Ğ³Ğ¸Ğ¸',
                submit: 'ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ',
                successTitle: 'Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°!',
                registrationNumber: 'Ğ’Ğ°Ñˆ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€:',
                barcodeTitle: 'Ğ­Ñ‚Ğ¾ Ğ²Ğ°Ñˆ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑˆÑ‚Ñ€Ğ¸Ñ…-ĞºĞ¾Ğ´:',
                barcodeInstruction: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚Ğµ ÑˆÑ‚Ñ€Ğ¸Ñ…-ĞºĞ¾Ğ´ Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ ĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğ¸ Ğ½Ğ°Ğ±Ğ¾Ñ€Ğ°',
                printBtn: 'ğŸ–¨ï¸ Ğ Ğ°ÑĞ¿ĞµÑ‡Ğ°Ñ‚Ğ°Ñ‚ÑŒ ĞºĞ²Ğ¸Ñ‚Ğ°Ğ½Ñ†Ğ¸Ñ',
                required: '*'
            }
        };

        let currentLanguage = 'he';

        function changeLanguage(lang) {
            currentLanguage = lang;
            const t = translations[lang];
            
            // Update direction
            document.documentElement.setAttribute('dir', t.dir);
            document.body.setAttribute('dir', t.dir);
            
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === lang) {
                    btn.classList.add('active');
                }
            });
            
            // Update all text elements
            document.querySelector('.header h1').textContent = t.title;
            document.querySelector('.header p').textContent = t.subtitle;
            document.querySelector('.info-box strong').textContent = t.welcome;
            document.querySelector('.info-box p').innerHTML = `<strong>${t.welcome}</strong><br>${t.welcomeText}`;
            
            // Update form labels
            const labels = document.querySelectorAll('label');
            labels[0].innerHTML = `${t.fullName} <span class="required">${t.required}</span>`;
            labels[1].innerHTML = `${t.idNumber} <span class="required">${t.required}</span>`;
            labels[2].textContent = t.phone;
            labels[3].innerHTML = `${t.address} <span class="required">${t.required}</span>`;
            labels[4].innerHTML = `${t.city} <span class="required">${t.required}</span>`;
            labels[5].innerHTML = `${t.familySize} <span class="required">${t.required}</span>`;
            labels[6].textContent = t.notes;
            
            // Update select placeholder
            document.querySelector('#familySize option[value=""]').textContent = t.selectSize;
            
            // Update placeholders
            document.getElementById('notes').placeholder = t.notesPlaceholder;
            
            // Update submit button
            document.querySelector('.submit-btn').textContent = t.submit;
            
            // Update success message if visible
            const successMsg = document.querySelector('#successMessage h2');
            if (successMsg) {
                successMsg.textContent = t.successTitle;
            }
        }

        // Local storage database simulation
        const registrationForm = document.getElementById('registrationForm');
        const successMessage = document.getElementById('successMessage');
        const registrationNumberEl = document.getElementById('registrationNumber');

        registrationForm.addEventListener('submit', function(e) {
            e.preventDefault();

            // Collect form data
            const formData = {
                fullName: document.getElementById('fullName').value,
                idNumber: document.getElementById('idNumber').value,
                phone: document.getElementById('phone').value,
                city: document.getElementById('city').value,
                familySize: document.getElementById('familySize').value,
                notes: document.getElementById('notes').value,
                registrationDate: new Date().toISOString(),
                registrationNumber: 'MP' + Date.now().toString().slice(-8),
                packageReceived: false
            };

            // Save to localStorage
            let registrations = JSON.parse(localStorage.getItem('registrations') || '[]');
            registrations.push(formData);
            localStorage.setItem('registrations', JSON.stringify(registrations));

            // Show success message
            const t = translations[currentLanguage];
            registrationNumberEl.textContent = formData.registrationNumber;
            document.querySelector('#successMessage h2').textContent = t.successTitle;
            document.querySelector('#successMessage p:first-of-type').innerHTML = `${t.registrationNumber} <strong id="registrationNumber">${formData.registrationNumber}</strong>`;
            document.querySelector('.barcode-container p:first-of-type strong').textContent = t.barcodeTitle;
            document.querySelector('.barcode-container p:last-of-type').textContent = t.barcodeInstruction;
            document.querySelector('.print-btn').textContent = t.printBtn;
            
            registrationForm.style.display = 'none';
            successMessage.classList.add('show');

            // Generate QR Code
            document.getElementById('qrcode').innerHTML = '';
            new QRCode(document.getElementById('qrcode'), {
                text: JSON.stringify({
                    id: formData.registrationNumber,
                    name: formData.fullName,
                    idNumber: formData.idNumber,
                    familySize: formData.familySize
                }),
                width: 200,
                height: 200
            });
        });

        // Print styles
        const style = document.createElement('style');
        style.textContent = `
            @media print {
                body * {
                    visibility: hidden;
                }
                .success-message, .success-message * {
                    visibility: visible;
                }
                .success-message {
                    position: absolute;
                    left: 0;
                    top: 0;
                    width: 100%;
                }
                .print-btn {
                    display: none;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
